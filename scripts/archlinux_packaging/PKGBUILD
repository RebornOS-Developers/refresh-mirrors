pkgname='refresh-mirrors-rebornos'
pkgver=0.0.11
pkgrel=1
pkgdesc='Just some convenient shortcuts for running the `rate-mirrors` tool (https://github.com/westandskif/rate-mirrors) for RebornOS. This is *NOT* a fork, but just a wrapper for shortcuts that call the tool.'
arch=('x86_64')
url='https://gitlab.com/rebornos-team/applications/refresh-mirrors'
license=('MPL2')
groups=('rebornos')
depends=('rate-mirrors'
         'polkit')
provides=("${pkgname}")
conflicts=("${pkgname}"
           'refresh-mirrors')
replaces=('refresh-mirrors')
backup=()
options=()
install=
source=()
noextract=()
md5sums=()

PROJECT_DIRECTORY="$(dirname -- "$(dirname -- "$(pwd)")")"
# BUILD_DIRECTORY="$PROJECT_DIRECTORY"/build
# RESOURCE_DIRECTORY="$PROJECT_DIRECTORY"/scripts/archlinux_packaging
# NUMBER_OF_PROCESSORS="$(nproc)"

build() {
    :
}

check() {
    :
}

package() {
    (
        cd "$PROJECT_DIRECTORY" && \
        {
            install -D -m 755 refresh-mirrors-rebornos.sh "${pkgdir}/usr/bin/refresh-mirrors-rebornos.sh"
            install -D -m 755 refresh-mirrors-rebornos.svg  "${pkgdir}/usr/share/icons/hicolor/scalable/apps/refresh-mirrors-rebornos.svg"
            install -D -m 755 refresh-mirrors-rebornos.desktop "${pkgdir}/usr/share/applications/refresh-mirrors-rebornos.desktop"
            install -D -m 755 refresh-mirrors-rebornos.service "${pkgdir}/usr/lib/systemd/system/refresh-mirrors-rebornos.service"
            install -D -m 755 org.rebornos.refresh_mirrors.policy "${pkgdir}/usr/share/polkit-1/actions/org.rebornos.refresh_mirrors.policy"
        }
    )
}